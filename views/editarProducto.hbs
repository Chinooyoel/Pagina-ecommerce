{{>head}}
    {{> modal }}
    <section class="max1400">
        <section class="panelControl">
            <a href="/producto/perfil/{{producto.idproducto}}" class="campoBoton campoBoton--azul">Perfil Producto</a>
            <a href="/admin" class="campoBoton campoBoton--azul">Inicio</a>
        </section>
        <form id="productForm" method="POST" action="/producto/actualizar/{{ producto.idproducto }}" class="flex-contenedor" enctype="multipart/form-data">
            <figure class="galeria__figure">
                <img src="/assets/img/producto/{{producto.img}}" class="galeria__figure--tamanioPerfil" id="imagenProducto">
                <button type="button" id="botonInputFileEstilizado" class="campoBoton campoBoton--azul">Editar foto</button>
                <input type="file" name="imagen" id="elegirFoto" accept="image/*">
            </figure>
            <article class="caracteristicas">
                <section>
                    <label for="nombre" class="formulario__label">Nombre</label>
                    <input type="text" name="nombre" id="nombre" class="inputEdicion formulario__input" value="{{producto.nombre}}" maxlength="200" minlength="5">
                    <label for="marca" class="formulario__label">Marca</label>
                    <select id="marca" name="marca_id" class="inputEdicion formulario__input">
                        {{#each marcas}}
                            {{#if objetivo}}
                                <option value="{{idmarca}}"  selected>{{nombre}}</option>
                            {{else}}
                                <option value="{{idmarca}}">{{nombre}}</option>
                            {{/if}}
                        {{/each}}
                    </select>        
                    <label for="categoria" class="formulario__label">Categoria</label>
                    <select id="categoria" name="categoria_id" class="inputEdicion formulario__input">
                        {{#each categorias}}
                            {{#if objetivo}}
                                <option value="{{idcategoria}}"  selected>{{nombre}}</option>
                            {{else}}
                                <option value="{{idcategoria}}" >{{nombre}}</option>
                            {{/if}}
                        {{/each}}
                    </select>
                    <label for="subcategoria" class="formulario__label">Subcategoria</label>
                    <select id="subcategoria" name="subcategoria_id" class="inputEdicion formulario__input">
                        {{#each subcategorias}}
                            {{#if objetivo}}
                                <option value="{{idsubcategoria}}" class="subcategoria" data-categoria="{{categoria_id}}" selected>{{nombre}}</option>
                            {{else}}
                                <option value="{{idsubcategoria}}" class="subcategoria" data-categoria="{{categoria_id}}" >{{nombre}}</option>
                            {{/if}}
                        {{/each}}
                    </select>
                    <label for="proveedor" class="formulario__label">Proveedor</label>
                    <select id="proveedor" name="proveedor_id" class="inputEdicion formulario__input">
                        {{#each proveedores}}
                            {{#if objetivo}}
                                <option value="{{idproveedor}}" selected>{{nombre}}</option>
                            {{else}}
                                <option value="{{idproveedor}}">{{nombre}}</option>
                            {{/if}}
                        {{/each}}
                    </select>       
                    <label for="codigo" class="formulario__label">Codigo</label>
                    <input type="text" name="codigo" id="codigo" class="inputEdicion formulario__input" value="{{producto.codigo}}" maxlength="45" minlength="1">     
                    <label for="garantia" class="formulario__label">Garantia</label>
                    <input type="text" name="garantia" id="garantia" class="inputEdicion formulario__input" value="{{producto.garantia}}" maxlength="45" minlength="1">     
                    <label for="stock" class="formulario__label">Stock</label>
                    <input type="number" name="stock" id="stock" class="inputEdicion formulario__input--corto" value="{{producto.stock}}" min="0">
                    <label for="precio" class="formulario__label">Precio</label>
                    <input type="number" name="precio" id="precio" class="inputEdicion formulario__input--corto" value="{{producto.precio}}" min="0">  
                    <label for="costo" class="formulario__label">Costo</label>
                    <input type="number" name="costo" id="costo" class="inputEdicion formulario__input--corto" value="{{producto.costo}}" min="0">  
                </section>
            </article>
        </form>
        <textarea form="productForm" class="textoNota" name="descripcion" maxlength="1500">{{producto.descripcion}}</textarea>
        <input form="productForm" type="submit" value="Actualizar" class="campoBoton campoBoton--verdeOscuro">
        <a href="/producto" class="campoBoton campoBoton--azul">Cancelar</a>
    </section>


    <script>
        validarFormularioProducto()
        funcionMostrarFoto();
        eventoCategoria();
    </script>

